
const translations = {
  en:{
    brand:'Nova Restaurant',
    tagline:'Fresh taste. Cozy place.',
    nav_home:'Home', nav_menu:'Menu', nav_res:'Reservation', nav_contact:'Contact',
    hero_title:'Welcome to Nova Restaurant', hero_sub:'Savor the flavour — order online or book a table.',
    cta_order:'Order Now', cta_book:'Book a Table',
    specials_title:"Chef's Specials", dish1_name:'Grilled Chicken', dish1_desc:'Herb-marinated with roasted vegetables.',
    dish2_name:'Beef Steak', dish2_desc:'Juicy steak with chef sauce.',
    dish3_name:'Vegetable Pasta', dish3_desc:'Seasonal veggies, light sauce.',
    offers_title:'Current Offers', about_title:'About Us', about_text:'Nova Restaurant brings fresh, home-made flavors to the neighborhood. Family-run, passionate chefs.',
    reviews_title:'What customers say', location_title:'Our Location', location_text:'1234 Sahara Street, Algiers (Demo location)',
    footer_phone:'Phone:', footer_email:'Email:',
    menu_title:'Our Menu',
    order_title:'Place Your Order', label_item:'Item', label_name:'Name', label_phone:'Phone', label_address:'Address', label_notes:'Notes', label_website:'Website (for demo client)', btn_submit:'Submit Order', order_success:'Order placed (demo). We\'ll contact you.',
    label_date:'Date', label_time:'Time', label_people:'People', res_title:'Book a Table', res_success:'Reservation submitted (demo).',
    contact_title:'Contact Us', contact_phone:'Phone', contact_email:'Email', contact_address:'Address', contact_success:'Message sent (demo).'
  },
  ar:{
    brand:'نوفا رستوران', tagline:'طعم طازج. أجواء دافئة.',
    nav_home:'الصفحة الرئيسية', nav_menu:'القائمة', nav_res:'الحجز', nav_contact:'تواصل',
    hero_title:'مرحباً بكم في نوفا', hero_sub:'تذوق النكهة — اطلب الآن أو احجز طاولة.',
    cta_order:'اطلب الآن', cta_book:'احجز طاولة',
    specials_title:'أطباق الشيف المميزة', dish1_name:'دجاج مشوي', dish1_desc:'متبل بالأعشاب مع خضار مشوية.',
    dish2_name:'ستيك لحم', dish2_desc:'ستيك طري مع صوص الشيف.',
    dish3_name:'باستا خضار', dish3_desc:'خضار موسمية مع صوص خفيف.',
    offers_title:'العروض الحالية', about_title:'من نحن', about_text:'نوفا تقدم نكهات منزلية طازجة. عائلة تدير المطعم بشغف الطهاة.',
    reviews_title:'آراء الزبائن', location_title:'موقعنا', location_text:'1234 شارع الصحراء، الجزائر (موقع تجريبي)',
    footer_phone:'الهاتف:', footer_email:'البريد:',
    menu_title:'قائمة الطعام',
    order_title:'أكمل طلبك', label_item:'الطبق', label_name:'الاسم', label_phone:'الهاتف', label_address:'المكان', label_notes:'ملاحظات', label_website:'موقع الويب (تجريبي)', btn_submit:'إرسال الطلب', order_success:'تم إرسال الطلب (تجريبي). سنتواصل معك.',
    label_date:'التاريخ', label_time:'الوقت', label_people:'عدد الأشخاص', res_title:'حجز طاولة', res_success:'تم إرسال الحجز (تجريبي).',
    contact_title:'تواصل معنا', contact_phone:'الهاتف', contact_email:'البريد', contact_address:'العنوان', contact_success:'تم الإرسال (تجريبي).'
  },
  fr:{
    brand:'Restaurant Nova',
    tagline:'Goût frais. Endroit confortable.',
    nav_home:'Accueil', nav_menu:'Menu', nav_res:'Réservation', nav_contact:'Contact',
    hero_title:'Bienvenue au Restaurant Nova', hero_sub:'Savourez la saveur — commandez en ligne ou réservez une table.',
    cta_order:'Commander', cta_book:'Réserver une table',
    specials_title:'Spécialités du chef', dish1_name:'Poulet Grillé', dish1_desc:'Mariné aux herbes avec légumes rôtis.',
    dish2_name:'Steak de Bœuf', dish2_desc:'Steak juteux avec sauce du chef.',
    dish3_name:'Pâtes aux Légumes', dish3_desc:'Légumes de saison, sauce légère.',
    offers_title:'Offres actuelles', about_title:'À propos', about_text:'Le Restaurant Nova apporte des saveurs fraîches et faites maison au quartier. Géré par une famille, avec des chefs passionnés.',
    reviews_title:'Avis des clients', location_title:'Notre emplacement', location_text:'1234 Rue du Sahara, Alger (Emplacement de démo)',
    footer_phone:'Téléphone:', footer_email:'Email:',
    menu_title:'Notre Menu',
    order_title:'Passez votre commande', label_item:'Article', label_name:'Nom', label_phone:'Téléphone', label_address:'Adresse', label_notes:'Notes', label_website:'Site web (démo)', btn_submit:'Envoyer la commande', order_success:'Commande passée (démo). Nous vous contacterons.',
    label_date:'Date', label_time:'Heure', label_people:'Personnes', res_title:'Réserver une table', res_success:'Réservation envoyée (démo).',
    contact_title:'Contactez-nous', contact_phone:'Téléphone', contact_email:'Email', contact_address:'Adresse', contact_success:'Message envoyé (démo).'
  },
  es:{
    brand:'Restaurante Nova',
    tagline:'Sabor fresco. Lugar acogedor.',
    nav_home:'Inicio', nav_menu:'Menú', nav_res:'Reserva', nav_contact:'Contacto',
    hero_title:'Bienvenido al Restaurante Nova', hero_sub:'Saborea el sabor — pide en línea o reserva una mesa.',
    cta_order:'Pedir ahora', cta_book:'Reservar mesa',
    specials_title:'Especialidades del chef', dish1_name:'Pollo a la Parrilla', dish1_desc:'Marinado con hierbas y verduras asadas.',
    dish2_name:'Bistec de Res', dish2_desc:'Bistec jugoso con salsa del chef.',
    dish3_name:'Pasta de Verduras', dish3_desc:'Verduras de temporada, salsa ligera.',
    offers_title:'Ofertas actuales', about_title:'Sobre nosotros', about_text:'El Restaurante Nova trae sabores frescos y caseros al vecindario. Gestionado por una familia, con chefs apasionados.',
    reviews_title:'Opiniones de clientes', location_title:'Nuestra ubicación', location_text:'1234 Calle Sahara, Argel (Ubicación de demostración)',
    footer_phone:'Teléfono:', footer_email:'Email:',
    menu_title:'Nuestro Menú',
    order_title:'Haz tu pedido', label_item:'Artículo', label_name:'Nombre', label_phone:'Teléfono', label_address:'Dirección', label_notes:'Notas', label_website:'Sitio web (demo)', btn_submit:'Enviar pedido', order_success:'Pedido realizado (demo). Te contactaremos.',
    label_date:'Fecha', label_time:'Hora', label_people:'Personas', res_title:'Reservar una mesa', res_success:'Reserva enviada (demo).',
    contact_title:'Contáctanos', contact_phone:'Teléfono', contact_email:'Email', contact_address:'Dirección', contact_success:'Mensaje enviado (demo).'
  },
  de:{
    brand:'Restaurant Nova',
    tagline:'Frischer Geschmack. Gemütlicher Ort.',
    nav_home:'Startseite', nav_menu:'Speisekarte', nav_res:'Reservierung', nav_contact:'Kontakt',
    hero_title:'Willkommen im Restaurant Nova', hero_sub:'Genießen Sie den Geschmack — online bestellen oder einen Tisch reservieren.',
    cta_order:'Jetzt bestellen', cta_book:'Tisch reservieren',
    specials_title:'Spezialitäten des Küchenchefs', dish1_name:'Gegrilltes Hähnchen', dish1_desc:'Mit Kräutern mariniert und geröstetem Gemüse.',
    dish2_name:'Rindersteak', dish2_desc:'Saftiges Steak mit Chef-Sauce.',
    dish3_name:'Gemüse-Pasta', dish3_desc:'Saisonales Gemüse, leichte Sauce.',
    offers_title:'Aktuelle Angebote', about_title:'Über uns', about_text:'Das Restaurant Nova bringt frische, hausgemachte Aromen in die Nachbarschaft. Familiengeführt, mit leidenschaftlichen Köchen.',
    reviews_title:'Kundenmeinungen', location_title:'Unser Standort', location_text:'1234 Sahara Straße, Algier (Demo-Standort)',
    footer_phone:'Telefon:', footer_email:'E-Mail:',
    menu_title:'Unsere Speisekarte',
    order_title:'Ihre Bestellung', label_item:'Artikel', label_name:'Name', label_phone:'Telefon', label_address:'Adresse', label_notes:'Notizen', label_website:'Website (Demo)', btn_submit:'Bestellung senden', order_success:'Bestellung aufgegeben (Demo). Wir kontaktieren Sie.',
    label_date:'Datum', label_time:'Uhrzeit', label_people:'Personen', res_title:'Einen Tisch reservieren', res_success:'Reservierung gesendet (Demo).',
    contact_title:'Kontaktieren Sie uns', contact_phone:'Telefon', contact_email:'E-Mail', contact_address:'Adresse', contact_success:'Nachricht gesendet (Demo).'
  },
  tr:{
    brand:'Nova Restoran',
    tagline:'Taze tat. Rahat mekan.',
    nav_home:'Ana Sayfa', nav_menu:'Menü', nav_res:'Rezervasyon', nav_contact:'İletişim',
    hero_title:'Nova Restorana Hoş Geldiniz', hero_sub:'Lezzeti tadın — online sipariş verin veya masa ayırtın.',
    cta_order:'Şimdi Sipariş Ver', cta_book:'Masa Ayırt',
    specials_title:'Şefin Özel Yemekleri', dish1_name:'Izgara Tavuk', dish1_desc:'Otlu marine edilmiş ve kavrulmuş sebzeler.',
    dish2_name:'Dana Biftek', dish2_desc:'Şef sosuyla sulu biftek.',
    dish3_name:'Sebzeli Makarna', dish3_desc:'Mevsim sebzeleri, hafif sos.',
    offers_title:'Güncel Teklifler', about_title:'Hakkımızda', about_text:'Nova Restoran mahalleye taze, ev yapımı lezzetler getiriyor. Aile işletmesi, tutkulu şefler.',
    reviews_title:'Müşteri yorumları', location_title:'Konumumuz', location_text:'1234 Sahara Caddesi, Cezayir (Demo konum)',
    footer_phone:'Telefon:', footer_email:'E-posta:',
    menu_title:'Menümüz',
    order_title:'Siparişinizi Verin', label_item:'Ürün', label_name:'İsim', label_phone:'Telefon', label_address:'Adres', label_notes:'Notlar', label_website:'Web sitesi (demo)', btn_submit:'Sipariş Gönder', order_success:'Sipariş verildi (demo). Sizinle iletişime geçeceğiz.',
    label_date:'Tarih', label_time:'Saat', label_people:'Kişi Sayısı', res_title:'Masa Ayırtın', res_success:'Rezervasyon gönderildi (demo).',
    contact_title:'Bize Ulaşın', contact_phone:'Telefon', contact_email:'E-posta', contact_address:'Adres', contact_success:'Mesaj gönderildi (demo).'
  }
};

const languages = {
  en: { name: 'English', flag: '🇬🇧', dir: 'ltr' },
  ar: { name: 'العربية', flag: '🇸🇦', dir: 'rtl' },
  fr: { name: 'Français', flag: '🇫🇷', dir: 'ltr' },
  es: { name: 'Español', flag: '🇪🇸', dir: 'ltr' },
  de: { name: 'Deutsch', flag: '🇩🇪', dir: 'ltr' },
  tr: { name: 'Türkçe', flag: '🇹🇷', dir: 'ltr' }
};

function applyLang(lang){
  if(!translations[lang]) lang = 'en';
  
  document.documentElement.setAttribute('data-lang', lang);
  document.documentElement.lang = lang;
  document.documentElement.dir = languages[lang]?.dir || 'ltr';
  
  document.querySelectorAll('[data-i18n]').forEach(el=>{
    const key = el.getAttribute('data-i18n');
    if(translations[lang] && translations[lang][key]) el.innerText = translations[lang][key];
  });
  
  const currentBtn = document.querySelector('.lang-current');
  if(currentBtn){
    currentBtn.innerHTML = `${languages[lang].flag} <span class="lang-name">${languages[lang].name}</span> <span class="lang-arrow">▼</span>`;
  }
}

function initLanguageSelector(){
  const langSelector = document.querySelector('.lang-selector');
  if(!langSelector) return;
  
  const currentBtn = langSelector.querySelector('.lang-current');
  const dropdown = langSelector.querySelector('.lang-dropdown');
  
  if(!currentBtn || !dropdown) return;
  
  currentBtn.addEventListener('click', (e)=>{
    e.stopPropagation();
    langSelector.classList.toggle('active');
  });
  
  document.addEventListener('click', ()=>{
    langSelector.classList.remove('active');
  });
  
  Object.keys(languages).forEach(langCode => {
    const option = document.createElement('div');
    option.className = 'lang-option';
    option.setAttribute('data-lang', langCode);
    option.innerHTML = `${languages[langCode].flag} <span>${languages[langCode].name}</span>`;
    
    option.addEventListener('click', (e)=>{
      e.stopPropagation();
      applyLang(langCode);
      localStorage.setItem('nova_lang', langCode);
      langSelector.classList.remove('active');
      window.dispatchEvent(new Event('nova-lang-changed'));
    });
    
    dropdown.appendChild(option);
  });
}

document.addEventListener('DOMContentLoaded', ()=>{
  const saved = localStorage.getItem('nova_lang') || 'en';
  applyLang(saved);
  initLanguageSelector();
});
